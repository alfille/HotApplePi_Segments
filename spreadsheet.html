<html>
  <script src="js/pinhole_front.js"></script>
  <script src="js/Spreadsheet.js"></script>
  <head>
	  <title>Hot Apple Pie Box Upload</title>
      <link rel="icon" type="image/x-icon" href="/fav.png">
  </head>
  <body bgcolor="lightyellow">
	  <H2>Analyze a HotApplePi box from a file.</H2>
	  See <a href="https://github.com/alfille/HotApplePi" target="_blank">Hot Apple Pi page</a><br>	  
	  <div id="FileName">
		<H2>CSV File <pre><span id="filename"></span></pre></H2>
	    <input type="file" id="CSVup" accept=".csv, .CSV" onChange="objectInputFile.Upload()" hidden>
	    <div id="Getfile">
			File in Comma-Separated-Values format with tab height <button type="button" onClick="objectInputFile.Click()" title="Choose csv-type local file with your data">CSV file</button>.
		</div>
	    <div id="Regetfile" hidden>
			<button type="button" onClick="window.location.reload()" title="Clear all data">New CSV file</button>
		</div>
	  </div>
	  <div id="Table" hidden>
		<H2>
			Data 
			<label><input type="radio" name=tview" id="TVall"   onChange="objectInputFile.tableView(this)" title="Show all rows">all</label>
			<label><input type="radio" name=tview" id="TVshort" onChange="objectInputFile.tableView(this)" title="Show just a few rows">short</label>
			<label><input type="radio" name=tview" id="TVnone"  onChange="objectInputFile.tableView(this)" title="Hide data rows">none</label>
			<button onClick="objectInputFile.Transpose()" title="Switch rows and columns">Transpose</button>
		</H2>
		<table width="100%" id="datatable">
		</table>
	  </div>
	  <H2>Parameters</H2>
	  <label>Length: <input type="number" min="0" id="Lhat" onchange="offload.getParameters()" title="length of flattened box relative to width" ></label>
	  <input type="button" onclick="offload.download()" id="Download" value="Download" title="Download as CSV file" disabled>
	  <input type="button" onclick="design.download()" id="Download" value="Download" title="Download profile as CSV file">
	  Button down in white area<br>
	  <div id="FlatDiv" hidden>
		<H2>Flat</H2>
		<canvas height="320" width="620" id="Flat" style="border:1px solid grey"></canvas>
	  </div>
	  <div id="FoldDiv" hidden>
		<H2>Folded</H2>
		<canvas height="320" width="620" id="Folded" style="border:1px solid grey"></canvas>
	  </div>
	  <div id="threedee" hidden>
		<H2>3D</H2>
		<div style="display:flex">
			<fieldset>
				<legend>Display</legend>
				<label><input type="radio" name="F_Q" onClick="design.folded.Full3D()" checked>Full</label>
				<label><input type="radio" name="F_Q" onClick="design.folded.Quarter3D()">Quarter</label>
			</fieldset>
			<fieldset id="D3D">
				<legend>Controls</legend>
			</fieldset>
		</div>
		<canvas height="600" width="600" id="C3D" style="border:1px solid grey"></canvas>
	  </div>
	  <H2>Credits</H2>
	  By Paul H Alfille, 2024, MIT license. <a href="https://github.com/alfille/HotApplePi_Segments" target="_blank">Project page</a>
	  Maximum: <A href="index.html">Search for best profile</A>
  </body>
</html>
